<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<title>iot ctrl</title>
<link href="/css/pico.min.css" rel="stylesheet">
</head>
<body>
<main class="container">
  <article style="margin-top:auto !important;">
    <button id="btn03" type="button">PUMP 03 MINUTES</button>
    <button id="btn05" type="button">PUMP 05 MINUTES</button>
    <button id="btn10" type="button">PUMP 10 MINUTES</button>
    <button id="btn15" type="button">PUMP 15 MINUTES</button>
    <button id="btn20" type="button">PUMP 20 MINUTES</button>
    <button id="btn30" type="button">PUMP 30 MINUTES</button>
  </article>
</main>
<script>

btn03.addEventListener('click', ()=>pump(03));
btn05.addEventListener('click', ()=>pump(05));
btn10.addEventListener('click', ()=>pump(10));
btn15.addEventListener('click', ()=>pump(15));
btn20.addEventListener('click', ()=>pump(20));
btn30.addEventListener('click', ()=>pump(30));

function pump(n) {
  let x = new XMLHttpRequest();

  x.addEventListener('readystatechange', () => {

    if( x.readyState === 4 ) {
      if( x.status === 200 ) {
        //...pump started
      }
    }
  });

  x.open('POST','ctrl.php');
  x.send(n);
}
</script>
</body>
</html>
